<%= tag.div class: 'work-card-cover',
            style: "background-image: url('#{@work_cover_url}'),
                    url('#{image_path('papyrus.jpg')}');",
            data: {'controller': 'work-cover-form image-upload',
                   'image-upload-target': 'preview',
                  } do %>
  <%= tag.div class: 'work-inline-form-cover' do %>
      <%= @form.file_field :cover_image, class: 'hidden', direct_upload: true,
                          data: { 'image-upload-target': 'input', 
                                  'work-cover-form-target': 'fileField',
                                  'action': 'change->image-upload#uploadEarly
                                             direct-upload:error->image-upload#uploadError
                                             direct-upload:end->image-upload#uploadFinish
                                             direct-uploads:end->image-upload#uploadFinish'
                                } %> 
      <%= tag.span class: 'hidden', data: {'image-upload-target': 'progress'} %>
      <%= @form.text_field :cover_url, class: 'hidden' %>
    <%= tag.div class: 'work-inline-form-cover-choice-container' do %>

      <%= tag.div class: 'work-inline-form-cover-choice-button',
                  data: { 'controller': 'tooltip',
                          'tooltip-placement-value': 'top'
                                                        } do %>
        <%= tag.a href: '#', data: { 'work-cover-field-target': 'fileButton',
                                     'tooltip-target': 'tool',
                                     'action': 'click->work-cover-form#uploadCover
                                                mouseover->tooltip#show
                                                mouseout->tooltip#hide'} do %>
          <img alt="Link to attach a cover image for this work"
               src="<%= image_path('icons/attachment.svg') %>" />
        <% end # tag.a %>
        <%= tag.div role: 'tooltip', class: "work-inline-form-cover-choice-tooltip",
                    data: { 'tooltip-target': 'tip'} do %>
          Upload a cover image
        <% end #.work-inline-form-cover-choice-tooltip %>
      <% end #.work-inline-form-cover-choice-button %>

      <%= tag.div class: 'work-inline-form-cover-choice-button',
                  data: { 'controller': 'tooltip',
                          'tooltip-placement-value': 'top' } do %>

        <%= tag.a href: '#', data: { 'action': 'mouseover->tooltip#show
                                                mouseout->tooltip#hide',
                                               'tooltip-target': 'tool' } do %>
          <img alt="Link to provide a url for the cover image of this work"
               src="<%= image_path('icons/link.svg') %>" />
        <% end # tag.a %>

        <%= tag.div role: 'tooltip', class: "work-inline-form-cover-choice-tooltip",
                    data: { 'tooltip-target': 'tip'} do %>
          Link to a cover image on the web
        <% end #.work-inline-form-cover-choice-tooltip %>

      <% end #.work-inline-form-cover-choice-button %>

    <% end #.work-inline-form-cover-choice %>
  <% end #.work-inline-form-cover %>
<% end #.work-card-cover %>
